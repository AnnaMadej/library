<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Catalogue</title>

    <!-- Bootstrap core CSS -->
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet">

    <!-- Add custom CSS here -->
    <link th:href="@{/css/modern-business.css}" rel="stylesheet">
</head>
<body>
<nav th:replace="Fragments/Menus :: top-menu"></nav>
<div th:replace="Fragments/Menus :: side-menu"></div>
<!-- Page Content -->

<div class="container col-md-9">
    <div class="row">
        <div class="col-md-9">
            <h1 class="page-header" th:text = "${category.categoryName}"></h1>
        </div>
    </div><!-- /.row -->

    <div class="row">
        <div class="col-md-9">
            <div class="panel-body">
                <div class="jumbotron text-center" th:if="${info!=null}" th:text="${info}"> </div>
                <div class="text-center">
                    <form class="form-inline" id="pageForm" action="" method="post" th:action="${category.categoryId != 0 } ? @{'/catalogue/' + ${category.categoryId} } : @{'/search/'} " >
                        <input type="hidden" name="words" th:value="${words}">
                        <ul class="pagination pagination-lg">
                            <th:block th:each="pageNo : ${#numbers.sequence(0, books.totalPages - 1)}" >
                                <li th:if="${pageNo>-1}">
                                    <button form="pageForm" th:class="${books.number != pageNo}? 'btn btn-default' : 'btn btn-default disabled'" name="page" th:value="${pageNo}" th:text="${pageNo + 1}" type="submit" ></button>
                                </li>
                            </th:block>
                        </ul>
                    </form>
                </div>

                <th:block th:each="book : ${books}">
                    <div class="row">
                        <div class="col-md-5" >
                            <a href="portfolio-item.html">
                                <img class="img-responsive" src="http://placehold.it/480x240">
                            </a>
                        </div>
                        <div class="col-md-4">
                            <h3 th:text="${book.title}"></h3>
                            <h4 th:text="${book.author}"></h4>
                            <p><span>Stron: </span><span th:text="${book.pages}"></span></p>
                            <a th:if="${currentUser.login!=null}" class="btn btn-primary"  th:href="@{'/editBook/' + ${book.id}}" >Edytuj <i class="fa fa-angle-right"></i></a>
                            &nbsp;<a th:if="${currentUser.login!=null}" class="btn btn-danger" th:href="@{'/delete/' + ${book.id}}" >Usu≈Ñ <i class="fa fa-angle-right"></i></a>

                        </div>
                    </div>
                    <hr>
                </th:block>


            </div>
        </div>

    </div><!-- /.row -->

</div><!-- /.container -->

<div class="container">

    <hr>

    <footer th:replace="Fragments/footer :: footer"> </footer>

</div><!-- /.container -->

<!-- JavaScript -->
<script th:src="@{/js/jquery-1.10.2.js}"></script>
<script th:src="@{/js/bootstrap.js}"></script>
<script th:src="@{/js/modern-business.js}"></script>

</body>
</html>
